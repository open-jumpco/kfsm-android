<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="287px" preserveAspectRatio="none" style="width:419px;height:287px;background:#FFFFFF;" version="1.1" viewBox="0 0 419 287" width="419px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ss3ty8k1lqjz" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#F8F8F8" filter="url(#f1ss3ty8k1lqjz)" height="268.6094" rx="12.5" ry="12.5" style="stroke:#383838;stroke-width:1.5;" width="400.1502" x="7" y="7"/><rect fill="#FFFFFF" height="235" rx="12.5" ry="12.5" style="stroke:#FFFFFF;stroke-width:1.0;" width="394.1502" x="10" y="37.6094"/><line style="stroke:#383838;stroke-width:1.5;" x1="7" x2="407.1502" y1="34.6094" y2="34.6094"/><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="93" x="160.5751" y="26.5332">TurnstileFSM</text><g id="TurnstileFSM.LOCKED"><rect fill="#F8F8F8" filter="url(#f1ss3ty8k1lqjz)" height="50" rx="12.5" ry="12.5" style="stroke:#383838;stroke-width:1.5;" width="78" x="100.1505" y="46.6094"/><line style="stroke:#383838;stroke-width:1.5;" x1="100.1505" x2="178.1505" y1="74.2188" y2="74.2188"/><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="58" x="110.1505" y="66.1426">LOCKED</text></g><g id="TurnstileFSM.UNLOCKED"><rect fill="#F8F8F8" filter="url(#f1ss3ty8k1lqjz)" height="50" rx="12.5" ry="12.5" style="stroke:#383838;stroke-width:1.5;" width="98" x="90.1505" y="207.6094"/><line style="stroke:#383838;stroke-width:1.5;" x1="90.1505" x2="188.1505" y1="235.2188" y2="235.2188"/><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="78" x="100.1505" y="227.1426">UNLOCKED</text></g><!--MD5=[c03bbcbe1ea2187b5aae6c6faf6bf9ae]
link LOCKED to UNLOCKED--><path d="M99.966,77.5694 C76.9328,82.7214 49.5798,93.2204 35.1505,114.6094 C18,140.0314 18.6226,157.7774 35.1505,183.6094 C46.414,201.2132 65.9567,212.4529 85.0827,219.5869 " fill="none" id="LOCKED-to-UNLOCKED" style="stroke:#383838;stroke-width:1.0;"/><polygon fill="#383838" points="89.931,221.3135,82.7947,214.5258,85.2208,219.6359,80.1106,222.0621,89.931,221.3135" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="72" x="36.1505" y="137.1792">COIN -&gt; {</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="64" x="52.1505" y="154.1528">unlock()</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="36.1505" y="171.1265">}</text><!--MD5=[33c2fb760a7074ec24359010ff9693f6]
link UNLOCKED to LOCKED--><path d="M139.1502,207.4945 C139.1502,179.1766 139.1502,132.2244 139.1502,101.8554 " fill="none" id="UNLOCKED-to-LOCKED" style="stroke:#383838;stroke-width:1.0;"/><polygon fill="#383838" points="139.1502,96.7584,135.1502,105.7584,139.1502,101.7584,143.1502,105.7584,139.1502,96.7584" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="168" x="140.1502" y="128.6792">«timeout = 3000» -&gt; {</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="96" x="156.1502" y="145.6528">returnCoin()</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="120" x="156.1502" y="162.6265">lockOnTimeout()</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="140.1502" y="179.6001">}</text><!--MD5=[33c2fb760a7074ec24359010ff9693f6]
link UNLOCKED to LOCKED--><path d="M188.2462,224.4999 C233.3562,216.8438 295.3892,203.0842 310.1502,183.6094 C328.6742,159.1694 329.0732,138.7424 310.1502,114.6094 C294.6672,94.8624 228.7162,83.1694 183.3952,77.3224 " fill="none" id="UNLOCKED-to-LOCKED-1" style="stroke:#383838;stroke-width:1.0;"/><polygon fill="#383838" points="178.2512,76.6724,186.6785,81.7694,183.2117,77.2994,187.6818,73.8326,178.2512,76.6724" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="72" x="325.1502" y="137.1792">PASS -&gt; {</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="48" x="341.1502" y="154.1528">lock()</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="325.1502" y="171.1265">}</text><!--MD5=[d9263dcde7f2990f059c51f0359981af]
link UNLOCKED to UNLOCKED--><path d="M188.2312,217.7308 C198.6362,219.2417 206.1502,224.2012 206.1502,232.6094 C206.1502,239.5724 200.9972,244.1704 193.3162,246.4033 " fill="none" id="UNLOCKED-to-UNLOCKED" style="stroke:#383838;stroke-width:1.0;"/><polygon fill="#383838" points="188.2312,247.488,197.8676,249.5229,193.1213,246.4451,196.199,241.6988,188.2312,247.488" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="72" x="212.1502" y="220.6792">COIN -&gt; {</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="96" x="228.1502" y="237.6528">returnCoin()</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="212.1502" y="254.6265">}</text><!--MD5=[9d1b157f9078c2285cbfde4a7850efb5]
@startuml
skinparam monochrome true
skinparam StateFontName Helvetica
skinparam defaultFontName Monospaced
skinparam defaultFontStyle Bold
skinparam state {
    FontColor Black
    FontStyle Bold
}
state TurnstileFSM {
LOCKED - -> UNLOCKED : COIN -> {\l  unlock()\l}
UNLOCKED - -> LOCKED : <<timeout = 3000>> -> {\l  returnCoin()\l  lockOnTimeout()\l}
UNLOCKED - -> LOCKED : PASS -> {\l  lock()\l}
UNLOCKED - -> UNLOCKED : COIN -> {\l  returnCoin()\l}
}
@enduml

PlantUML version 1.2021.7(Sun May 23 14:40:07 CAT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: ZA
--></g></svg>