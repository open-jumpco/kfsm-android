<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="349px" preserveAspectRatio="none" style="width:441px;height:349px;background:#FFFFFF;" version="1.1" viewBox="0 0 441 349" width="441px" zoomAndPan="magnify"><defs><filter height="300%" id="f408t6a0a8lij" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#F8F8F8" filter="url(#f408t6a0a8lij)" height="330.6094" rx="12.5" ry="12.5" style="stroke:#383838;stroke-width:1.5;" width="422.2284" x="7" y="7"/><rect fill="#FFFFFF" height="297" rx="12.5" ry="12.5" style="stroke:#FFFFFF;stroke-width:1.0;" width="416.2284" x="10" y="37.6094"/><line style="stroke:#383838;stroke-width:1.5;" x1="7" x2="429.2284" y1="34.6094" y2="34.6094"/><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="93" x="171.6142" y="26.5332">TurnstileFSM</text><ellipse cx="229.2284" cy="55.6094" fill="#000000" filter="url(#f408t6a0a8lij)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><g id="TurnstileFSM.UNLOCKED"><rect fill="#F8F8F8" filter="url(#f408t6a0a8lij)" height="50" rx="12.5" ry="12.5" style="stroke:#383838;stroke-width:1.5;" width="98" x="180.2284" y="108.6094"/><line style="stroke:#383838;stroke-width:1.5;" x1="180.2284" x2="278.2284" y1="136.2188" y2="136.2188"/><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="78" x="190.2284" y="128.1426">UNLOCKED</text></g><g id="TurnstileFSM.LOCKED"><rect fill="#F8F8F8" filter="url(#f408t6a0a8lij)" height="50" rx="12.5" ry="12.5" style="stroke:#383838;stroke-width:1.5;" width="78" x="190.2284" y="269.6094"/><line style="stroke:#383838;stroke-width:1.5;" x1="190.2284" x2="268.2284" y1="297.2188" y2="297.2188"/><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="58" x="200.2284" y="289.1426">LOCKED</text></g><!--MD5=[7a689353fd2c24efc5d36036fa095f1f]
link *start*TurnstileFSM to UNLOCKED--><path d="M229.2284,65.6264 C229.2284,74.8594 229.2284,89.7134 229.2284,103.0904 " fill="none" id="*start*TurnstileFSM-to-UNLOCKED" style="stroke:#383838;stroke-width:1.0;"/><polygon fill="#383838" points="229.2284,108.3224,233.2284,99.3224,229.2284,103.3224,225.2284,99.3224,229.2284,108.3224" style="stroke:#383838;stroke-width:1.0;"/><!--MD5=[c03bbcbe1ea2187b5aae6c6faf6bf9ae]
link LOCKED to UNLOCKED--><path d="M268.4574,281.1202 C282.2644,274.6228 296.3054,265.1281 304.2284,251.6094 C319.7354,225.1524 318.9514,209.5114 304.2284,182.6094 C299.1264,173.2864 291.3554,165.5084 282.7174,159.1194 " fill="none" id="LOCKED-to-UNLOCKED" style="stroke:#383838;stroke-width:1.0;"/><polygon fill="#383838" points="278.4144,156.0934,283.474,164.5432,282.5039,158.9702,288.0769,158,278.4144,156.0934" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="72" x="316.2284" y="205.1792">COIN -&gt; {</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="64" x="332.2284" y="222.1528">unlock()</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="316.2284" y="239.1265">}</text><!--MD5=[33c2fb760a7074ec24359010ff9693f6]
link UNLOCKED to LOCKED--><path d="M179.8434,140.0854 C128.9394,146.8664 54.6204,160.3344 37.2286,182.6094 C18.3559,206.7814 18,227.7199 37.2286,251.6094 C55.4309,274.2239 134.2594,285.3311 185.0794,290.2373 " fill="none" id="UNLOCKED-to-LOCKED" style="stroke:#383838;stroke-width:1.0;"/><polygon fill="#383838" points="190.2134,290.7211,181.6278,285.8952,185.2354,290.2525,180.8781,293.86,190.2134,290.7211" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="168" x="38.2286" y="196.6792">«timeout = 3000» -&gt; {</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="96" x="54.2286" y="213.6528">returnCoin()</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="120" x="54.2286" y="230.6265">lockOnTimeout()</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="38.2286" y="247.6001">}</text><!--MD5=[33c2fb760a7074ec24359010ff9693f6]
link UNLOCKED to LOCKED--><path d="M227.4074,159.0144 C226.9234,166.5724 226.4684,174.9314 226.2284,182.6094 C225.2714,213.2614 225.1354,220.9622 226.2284,251.6094 C226.3714,255.6161 226.5904,259.8336 226.8474,263.9879 " fill="none" id="UNLOCKED-to-LOCKED-1" style="stroke:#383838;stroke-width:1.0;"/><polygon fill="#383838" points="227.1894,269.1953,230.5911,259.9525,226.8617,264.206,222.6082,260.4767,227.1894,269.1953" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="72" x="227.2284" y="205.1792">PASS -&gt; {</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="48" x="243.2284" y="222.1528">lock()</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="227.2284" y="239.1265">}</text><!--MD5=[d9263dcde7f2990f059c51f0359981af]
link UNLOCKED to UNLOCKED--><path d="M278.3094,124.9004 C288.7144,125.7844 296.2284,128.6874 296.2284,133.6094 C296.2284,137.6854 291.0754,140.3764 283.3944,141.6834 " fill="none" id="UNLOCKED-to-UNLOCKED" style="stroke:#383838;stroke-width:1.0;"/><polygon fill="#383838" points="278.3094,142.3184,287.7359,145.1715,283.2708,141.6984,286.7439,137.2332,278.3094,142.3184" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="72" x="302.2284" y="121.6792">COIN -&gt; {</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="96" x="318.2284" y="138.6528">returnCoin()</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="302.2284" y="155.6265">}</text><!--MD5=[f96cc05c87bc0e94f5cc726e070c3d82]
@startuml
skinparam monochrome true
skinparam StateFontName Helvetica
skinparam defaultFontName Monospaced
skinparam defaultFontStyle Bold
skinparam state {
    FontStyle Bold
}
state TurnstileFSM {
[*] - -> UNLOCKED
LOCKED - -> UNLOCKED : COIN -> {\l  unlock()\l}
UNLOCKED - -> LOCKED : <<timeout = 3000>> -> {\l  returnCoin()\l  lockOnTimeout()\l}
UNLOCKED - -> LOCKED : PASS -> {\l  lock()\l}
UNLOCKED - -> UNLOCKED : COIN -> {\l  returnCoin()\l}
}
@enduml

PlantUML version 1.2021.7(Sun May 23 14:40:07 CAT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: ZA
--></g></svg>